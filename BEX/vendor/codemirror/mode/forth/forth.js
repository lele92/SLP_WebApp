!function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";function r(t){var r=[];return t.split(" ").forEach(function(t){r.push({name:t})}),r}var n=r("INVERT AND OR XOR\r\n 2* 2/ LSHIFT RSHIFT\r\n 0= = 0< < > U< MIN MAX\r\n 2DROP 2DUP 2OVER 2SWAP ?DUP DEPTH DROP DUP OVER ROT SWAP\r\n >R R> R@\r\n + - 1+ 1- ABS NEGATE\r\n S>D * M* UM*\r\n FM/MOD SM/REM UM/MOD */ */MOD / /MOD MOD\r\n HERE , @ ! CELL+ CELLS C, C@ C! CHARS 2@ 2!\r\n ALIGN ALIGNED +! ALLOT\r\n CHAR [CHAR] [ ] BL\r\n FIND EXECUTE IMMEDIATE COUNT LITERAL STATE\r\n ; DOES> >BODY\r\n EVALUATE\r\n SOURCE >IN\r\n <# # #S #> HOLD SIGN BASE >NUMBER HEX DECIMAL\r\n FILL MOVE\r\n . CR EMIT SPACE SPACES TYPE U. .R U.R\r\n ACCEPT\r\n TRUE FALSE\r\n <> U> 0<> 0>\r\n NIP TUCK ROLL PICK\r\n 2>R 2R@ 2R>\r\n WITHIN UNUSED MARKER\r\n I J\r\n TO\r\n COMPILE, [COMPILE]\r\n SAVE-INPUT RESTORE-INPUT\r\n PAD ERASE\r\n 2LITERAL DNEGATE\r\n D- D+ D0< D0= D2* D2/ D< D= DMAX DMIN D>S DABS\r\n M+ M*/ D. D.R 2ROT DU<\r\n CATCH THROW\r\n FREE RESIZE ALLOCATE\r\n CS-PICK CS-ROLL\r\n GET-CURRENT SET-CURRENT FORTH-WORDLIST GET-ORDER SET-ORDER\r\n PREVIOUS SEARCH-WORDLIST WORDLIST FIND ALSO ONLY FORTH DEFINITIONS ORDER\r\n -TRAILING /STRING SEARCH COMPARE CMOVE CMOVE> BLANK SLITERAL"),e=r("IF ELSE THEN BEGIN WHILE REPEAT UNTIL RECURSE [IF] [ELSE] [THEN] ?DO DO LOOP +LOOP UNLOOP LEAVE EXIT AGAIN CASE OF ENDOF ENDCASE");t.defineMode("forth",function(){function t(t,r){var n;for(n=t.length-1;n>=0;n--)if(t[n].name===r.toUpperCase())return t[n];return void 0}return{startState:function(){return{state:"",base:10,coreWordList:n,immediateWordList:e,wordList:[]}},token:function(r,n){var e;if(r.eatSpace())return null;if(""===n.state){if(r.match(/^(\]|:NONAME)(\s|$)/i))return n.state=" compilation","builtin compilation";if(e=r.match(/^(\:)\s+(\S+)(\s|$)+/))return n.wordList.push({name:e[2].toUpperCase()}),n.state=" compilation","def"+n.state;if(e=r.match(/^(VARIABLE|2VARIABLE|CONSTANT|2CONSTANT|CREATE|POSTPONE|VALUE|WORD)\s+(\S+)(\s|$)+/i))return n.wordList.push({name:e[2].toUpperCase()}),"def"+n.state;if(e=r.match(/^(\'|\[\'\])\s+(\S+)(\s|$)+/))return"builtin"+n.state}else{if(r.match(/^(\;|\[)(\s)/))return n.state="",r.backUp(1),"builtin compilation";if(r.match(/^(\;|\[)($)/))return n.state="","builtin compilation";if(r.match(/^(POSTPONE)\s+\S+(\s|$)+/))return"builtin"}return e=r.match(/^(\S+)(\s+|$)/),e?void 0!==t(n.wordList,e[1])?"variable"+n.state:"\\"===e[1]?(r.skipToEnd(),"comment"+n.state):void 0!==t(n.coreWordList,e[1])?"builtin"+n.state:void 0!==t(n.immediateWordList,e[1])?"keyword"+n.state:"("===e[1]?(r.eatWhile(function(t){return")"!==t}),r.eat(")"),"comment"+n.state):".("===e[1]?(r.eatWhile(function(t){return")"!==t}),r.eat(")"),"string"+n.state):'S"'===e[1]||'."'===e[1]||'C"'===e[1]?(r.eatWhile(function(t){return'"'!==t}),r.eat('"'),"string"+n.state):e[1]-68719476735?"number"+n.state:"atom"+n.state:void 0}}}),t.defineMIME("text/x-forth","forth")});